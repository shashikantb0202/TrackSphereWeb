<div class="content-container">
    <div class="d-flex align-items-center justify-content-between my-3">
        <h3 class="mb-0">Product Management</h3>
        <button class="btn btn-success" (click)="navigateToAddProduct()">Add Product</button>
    </div>
  
    <!-- Search Input -->
    <div class="mb-4 mt-2">
      <input
        type="text"
        class="form-control"
        placeholder="Search by product name, category..."
        [(ngModel)]="searchTerm"
        (keyup)="searchProducts()"
      />
    </div>
  
    <!-- Ngx-Datatable for Product List -->
    <ngx-datatable
      class="bootstrap"
      [rows]="products"
      [columnMode]="'force'"
      [headerHeight]="50"
      [footerHeight]="50"
      [rowHeight]="'auto'"
      [limit]="pageSize"
      [count]="totalRecords"
      [externalPaging]="true"
      [externalSorting]="true"
      (sort)="onSort($event)"
      (page)="onPage($event)"
      [loadingIndicator]="isLoading"
      [reorderable]="true">

      <ngx-datatable-column name="ID" prop="id" width="70" [sortable]="true"></ngx-datatable-column>
      <ngx-datatable-column name="Name" prop="name" [sortable]="true"></ngx-datatable-column>
      <ngx-datatable-column name="Category" prop="productCategory.name" [sortable]="true"></ngx-datatable-column>
  
      <!-- Product Image Column -->
      <!-- <ngx-datatable-column 
      name="Image" 
      width="100"
      [cellTemplate]="imageTemplate">
        
      </ngx-datatable-column>
      <ng-template #imageTemplate let-row="row" ngx-datatable-cell>
        <img [src]="row.images[0]?.imageUrl" alt="Product Image" class="product-image">
      </ng-template> -->
      <ngx-datatable-column name="HS Code" prop="hsCode" [sortable]="true"></ngx-datatable-column>
      <ngx-datatable-column name="GST (%)" prop="gstPer" [sortable]="true"></ngx-datatable-column>
      <ngx-datatable-column name="Created By" prop="createdByUser.name" [sortable]="false"></ngx-datatable-column>
  
      <ngx-datatable-column 
        name="Created On" 
        width="150"
        [sortable]="true"
        [cellTemplate]="createdOnTemplate">
      </ngx-datatable-column>
      <ng-template #createdOnTemplate let-row="row" ngx-datatable-cell>
        {{ row.createdOn | date: 'dd/MM/yyyy' }}
      </ng-template>
  
      <ngx-datatable-column 
        name="Actions" 
        width="150" 
        [sortable]="false"
        [cellTemplate]="actionTemplate">
      </ngx-datatable-column>
  
      <ng-template #actionTemplate let-row="row">
        <div>
          <button class="btn btn-primary btn-sm" (click)="editProduct(row)">Edit</button>
          <button class="btn btn-info btn-sm ms-2" (click)="viewProduct(row)">View</button>
        </div>
      </ng-template>
  
    </ngx-datatable>
  </div>
  