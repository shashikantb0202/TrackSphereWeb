<div class="container mb-2">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>User Details</h3>
  </div>
  <div *ngIf="isLoading" class="loader-overlay">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
  <div *ngIf="!isLoading" class="card-body">
    <!-- Basic Information Section -->
    <div class="card mb-4 border-secondary">
      <div class="card-header bg-secondary text-white">Basic Information</div>
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Username:</strong> {{ user.username }}
          </div>
          <div class="col-md-6">
            <strong>Full Name:</strong> {{ user.name }} {{ user.lastName }}
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Contact No:</strong> {{ user.contactNo }}
          </div>
          <div class="col-md-6"><strong>Email:</strong> {{ user.email }}</div>
        </div>
      </div>
    </div>

    <!-- Address Section -->
    <div class="card mb-4 border-secondary">
      <div class="card-header bg-secondary text-white">Address</div>
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Address:</strong> {{ user.addressLine1 }},
            {{ user.addressLine2 }}, {{ user.landmark }}
          </div>
          <div class="col-md-6">
            <strong>Location:</strong> {{ user.city.name }},
            {{ user.state.name }}, {{ user.country.name }}
          </div>
        </div>
      </div>
    </div>

    <!-- Work Information Section -->
    <div class="card mb-4 border-secondary">
      <div class="card-header bg-secondary text-white">Work Information</div>
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Designation:</strong> {{ user.designation.name }}
          </div>
          <div class="col-md-6">
            <strong>Department:</strong> {{ user.department.name }}
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Role:</strong> {{ user.role.name }}
          </div>
          <div class="col-md-6">
            <strong>Organization:</strong>
            {{ user.organization?.name || "N/A" }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Status:</strong>
            <span
              class="badge p-0 px-2 py-1 fs-7 small-badge"
              style="font-size: 10px; margin-left: 7px"
              [class.bg-success]="user.status === 'Active'"
              [class.bg-danger]="user.status === 'InActive'"
            >
              {{ user.status }}
            </span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Created By:</strong> {{ user.createdBy?.name }}
          </div>
          <div class="col-md-6">
            <strong>Updated By:</strong> {{ user.updatedBy?.name }}
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>Created On:</strong>
            {{ user.createdOn | date : "dd-MMM-yyyy HH:mm:ss" }}
          </div>
          <div class="col-md-6">
            <strong>Updated On:</strong>
            {{ user?.updatedOn | date : "dd-MMM-yyyy HH:mm:ss" }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card-footer text-end">
    <button class="btn btn-primary" (click)="editUser()">Edit User</button>
    <button
      class="btn btn-secondary ms-2"
      (click)="router.navigate(['main/user-management/user-list'])"
    >
      Back to List
    </button>
  </div>
</div>
